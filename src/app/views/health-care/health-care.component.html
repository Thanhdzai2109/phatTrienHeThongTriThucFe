<div class="h-100">
  <div class="grid">
    <div class="row">
      <div class="col-12">
        <h2 class="title">Tất cả</h2>
      </div>
      <div class="col-4" [cModalToggle]="verticallyCenteredScrollableModal.id">
        <div class="card p-4">
          <div class="card-title">Tính chỉ số BMI</div>
        </div>
      </div>
      <div class="col-4" [cModalToggle]="weightGainCalculator.id">
        <div class="card p-4">
          <div class="card-title">Tư vấn tăng cân</div>
        </div>
      </div>
      <div class="col-4" [cModalToggle]="kaloCalculator.id">
        <div class="card p-4">
          <div class="card-title">Tính lượng kalo</div>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <h2 class="title">Trẻ 3 - 5 tuổi</h2>
      </div>
      <div class="col-4" [cModalToggle]="physicalMenu.id">
        <div class="card p-4">
          <div class="card-title">Chế độ ăn theo thể trạng</div>
        </div>
      </div>
      <div class="col-4" [cModalToggle]="phenomenalMenu.id">
        <div class="card p-4">
          <div class="card-title">Chế độ ăn theo hiện tượng</div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-chat-bot></app-chat-bot>

<!-- --------------------------------------------------------------------------------------- -->
<c-modal
  #verticallyCenteredScrollableModal
  [scrollable]="true"
  alignment="center"
  id="verticallyCenteredScrollableModal"
>
  <c-modal-header>
    <div class="w-100 d-flex flex-row align-items-center">
      <h2 cModalTitle class="mb-0">Tính chỉ số BMI</h2>
      <button
        [cModalToggle]="verticallyCenteredScrollableModal.id"
        cButtonClose
      ></button>
    </div>
  </c-modal-header>
  <c-modal-body>
    <div class="grid">
      <div class="row">
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Chiều cao</div>
          <input
            type="number"
            class="border-0 l-input flex-1"
            [(ngModel)]="bmiData.height"
          />
          <div class="label ml-2">Cm</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Cân nặng</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="bmiData.weight"
          />
          <div class="label ml-2">Kg</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Tuổi</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="bmiData.old"
          />
          <div class="label ml-2"></div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Giới tính</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="bmiData.sex"
          >
            <option value="1" selected>Nam</option>
            <option value="2">Nữ</option>
          </select>
        </div>
      </div>
    </div>
    <div
      *ngIf="bmiData.result?.message"
      class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
    >
      <div class="result">{{ bmiData.result?.message || "" }}</div>
    </div>
    <div
      *ngIf="bmiData.result"
      class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
    >
      <div class="result">
        Chỉ số BMI của bạn là:
        {{ bmiData.result?.data.ketQua | number : "1.0-2" }}
      </div>
    </div>
  </c-modal-body>
  <c-modal-footer>
    <button
      [cModalToggle]="verticallyCenteredScrollableModal.id"
      cButton
      color="danger"
    >
      Hủy  <i class="fa fa-close"></i>
    </button>
    <button cButton color="primary" (click)="bmiCalculator($event)">Gửi <i class="fa fa-check"></i></button>
  </c-modal-footer>
</c-modal>

<!-- --------------------------------------------------------------------------------------- -->
<c-modal
  #weightGainCalculator
  [scrollable]="true"
  alignment="center"
  id="weightGainCalculator"
>
  <c-modal-header>
    <div class="w-100 d-flex flex-row align-items-center">
      <h2 cModalTitle class="mb-0">Ước tính lượng kalo để tăng cân</h2>
      <button [cModalToggle]="weightGainCalculator.id" cButtonClose></button>
    </div>
  </c-modal-header>
  <c-modal-body>
    <div class="grid">
      <div class="row">
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Chiều cao</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="weightGainData.height"
          />
          <div class="label ml-2">Cm</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Cân nặng</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="weightGainData.weight"
          />
          <div class="label ml-2">Kg</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Tuổi</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="weightGainData.old"
          />
          <div class="label ml-2"></div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Giới tính</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="weightGainData.sex"
          >
            <option value="1" selected>Nam</option>
            <option value="2">Nữ</option>
          </select>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Mức độ vận động</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="weightGainData.activityLevel"
          >
            <option value="1" selected>Tập thể dục nhẹ 1-2 lần/tuần</option>
            <option value="2" selected>
              Tập thể dục vừa phải 2-3 lần/tuần
            </option>
            <option value="3" selected>
              Tập thể dục chăm chỉ 4-5 lần/tuần
            </option>
          </select>
        </div>

        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Trọng lượng mục tiêu</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="weightGainData.targetWeight"
          />
          <div class="label ml-2">Kg</div>
        </div>

        <!-- <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Tốc độ tăng cân</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="weightGainData.weightGain"
          >
            <option value="1" selected>Bình thường 0,5kg/tuần</option>
            <option value="2" selected>Nghiêm ngặt 1kg/tuần</option>
          </select>
        </div> -->
        <div
          *ngIf="weightGainData.result"
          class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
        >
          <div class="result">
            Lượng calo cần tiêu thụ:
            {{ weightGainData.result?.data.ketQua | number : "1.0-2" }}/Ngày
          </div>
        </div>
      </div>
    </div>
  </c-modal-body>
  <c-modal-footer>
    <button [cModalToggle]="weightGainCalculator.id" cButton color="danger">
      Hủy  <i class="fa fa-close"></i>
    </button>
    <button cButton color="primary" (click)="onWeightGainCalculator($event)">
      Gửi  <i class="fa fa-check"></i>
    </button>
  </c-modal-footer>
</c-modal>
<!-- --------------------------------------------------------------------------------------- -->
<c-modal
  #kaloCalculator
  [scrollable]="true"
  alignment="center"
  id="kaloCalculator"
>
  <c-modal-header>
    <div class="w-100 d-flex flex-row align-items-center">
      <h2 cModalTitle class="mb-0">Tính lượng calo cần thiết mỗi ngày</h2>
      <button [cModalToggle]="kaloCalculator.id" cButtonClose></button>
    </div>
  </c-modal-header>
  <c-modal-body>
    <div class="grid">
      <div class="row">
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Chiều cao</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="kaloData.height"
          />
          <div class="label ml-2">Cm</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Cân nặng</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="kaloData.weight"
          />
          <div class="label ml-2">Kg</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Tuổi</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="kaloData.old"
          />
          <div class="label ml-2"></div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Giới tính</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="kaloData.sex"
          >
            <option value="1" selected>Nam</option>
            <option value="2">Nữ</option>
          </select>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Mức độ vận động</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="kaloData.activityLevel"
          >
            <option value="1" selected>Tập thể dục nhẹ 1-2 lần/tuần</option>
            <option value="2" selected>
              Tập thể dục vừa phải 2-3 lần/tuần
            </option>
            <option value="3" selected>
              Tập thể dục chăm chỉ 4-5 lần/tuần
            </option>
          </select>
        </div>

        <div
          *ngIf="kaloData.result"
          class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
        >
          <div class="result">
            Lượng calo tiêu thụ trong ngày:
            {{ kaloData.result?.data.ketQua | number : "1.0-2" }}
          </div>
        </div>
      </div>
    </div>
  </c-modal-body>
  <c-modal-footer>
    <button [cModalToggle]="kaloCalculator.id" cButton color="danger">
      Hủy <i class="fa fa-close"></i>
    </button>
    <button cButton color="primary" (click)="onKaloCalculator($event)">
      Gửi <i class="fa fa-check"></i>
    </button>
  </c-modal-footer>
</c-modal>
<!-- --------------------------------------------------------------------------------------- -->

<c-modal #physicalMenu [scrollable]="true" alignment="center" id="physicalMenu">
  <c-modal-header>
    <div class="w-100 d-flex flex-row align-items-center">
      <h2 cModalTitle class="mb-0">Chế độ ăn theo thể trạng</h2>
      <button [cModalToggle]="physicalMenu.id" cButtonClose></button>
    </div>
  </c-modal-header>
  <c-modal-body>
    <div class="grid">
      <div class="row">
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Chiều cao</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="physicalMenuData.height"
          />
          <div class="label ml-2">Cm</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Cân nặng</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="physicalMenuData.weight"
          />
          <div class="label ml-2">Kg</div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Tuổi(tháng tuổi)</div>
          <input
            type="number"
            name=""
            class="border-0 l-input flex-1"
            [(ngModel)]="physicalMenuData.old"
          />
          <div class="label ml-2"></div>
        </div>
        <div
          class="col-12 d-flex flex-row justify-content-between align-items-center l-row"
        >
          <div class="label mr-2">Giới tính</div>
          <select
            class="custom-select l-input border-0"
            id="inputGroupSelect01"
            [(ngModel)]="physicalMenuData.gender"
          >
            <option value="0" selected>Nam</option>
            <option value="1">Nữ</option>
          </select>
        </div>

        <div
          *ngIf="physicalMenuData.result"
          class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
        >
          <div class="result fw-4">
            Lượng calo tiêu thụ trong ngày:
            {{ physicalMenuData.result?.message }}
          </div>
        </div>
      </div>
    </div>
  </c-modal-body>
  <c-modal-footer>
    <button [cModalToggle]="physicalMenu.id" cButton color="danger">
      Hủy <i class="fa fa-close"></i>
    </button>
    <button cButton color="primary" (click)="onPhysicalMenu($event)">
      Gửi <i class="fa fa-check"></i>
    </button>
  </c-modal-footer>
</c-modal>

<c-modal
  #phenomenalMenu
  [scrollable]="true"
  alignment="center"
  id="phenomenalMenu"
>
  <c-modal-header>
    <div class="w-100 d-flex flex-row align-items-center">
      <h2 cModalTitle class="mb-0">Chế độ ăn theo hiện tượng</h2>
      <button [cModalToggle]="phenomenalMenu.id" cButtonClose></button>
    </div>
  </c-modal-header>
  <c-modal-body>
    <div class="grid">
      <div class="row">
        <div class="multiselect">
          <div class="select-btn" id="select-btn">
            <span class="btn-text">Chọn hiện tượng</span>
            <span class="arrow-dwn">
              <i class="fa-solid fa-chevron-down"></i>
            </span>
          </div>

          <ul class="list-items">
            <li
              class="item"
              [ngClass]="{ checked: phenomenalSelected.includes(item) }"
              *ngFor="let item of phenomenals"
            >
              <mat-checkbox (click)="addBieuHien(item)"></mat-checkbox>
              <span class="item-text">{{ item.symptoms }}</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="row">
        <div
          *ngIf="true"
          class="d-flex flex-row justify-content-center w-100 mt-4 mb-4"
        >
          <div class="result">
            {{ resByHienTuong.message || "" }}
          </div>
        </div>
      </div>

    </div>
  </c-modal-body>
  <c-modal-footer>
    <button [cModalToggle]="phenomenalMenu.id" cButton color="danger">
      Hủy <i class="fa fa-close"></i>
    </button>
    <button cButton color="primary" (click)="onPhenomenalMenu($event)">
      Gửi <i class="fa fa-check"></i>
    </button>
  </c-modal-footer>
</c-modal>
